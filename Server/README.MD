How to download, install OpenVPN Access server:

Download and Install OpenVPN full package from here:  https://openvpn.net/vpn-software-packages/
Identify a machine on your network as the DMZ and configure it as such using that network's router

Follow installation instructions to set up OpenVPN on DMZ server
Use this guideline for Distiguished Name (DN) definition:
Notes:
# For extra security beyond that provided
# by SSL/TLS, create an "HMAC firewall"
# to help block DoS attacks and UDP port flooding.
#
# Generate with:
#   openvpn --genkey --secret ta.key
#
# The server and each client must have
# a copy of this key.
# The second parameter should be '0'
# on the server and '1' on the clients.
tls-auth ta.key 0 # This file is secret

export KEY_COUNTRY="US"
export KEY_PROVINCE="AZ"
export KEY_CITY="Tucson"
export KEY_ORG="GBCInc"
export KEY_EMAIL="techsupport@onlinegbc.com"
export KEY_CN=onlinegbc.com
export KEY_ALTNAMES=funauto.com
export KEY_NAME=GBCInc
export KEY_OU=FUNAuto

Identify server files:
    /etc/openvpn/ca.crt
    /etc/openvpn/easy-rsa/keys/client-certificate.crt
    /etc/openvpn/easy-rsa/keys/client-certificate.key 
to /etc/openvpn
Set up Google 2FA (not easy--done by Vitaly Volkov on Upwork)


How to start/stop openvpn server?
sudo systemctl restart/start/stop/status openvpn
openvpn is installed in /etc/openvpn on server

Create a new user for VPN:
 - Run "useradd <username>" to create a user account. OpenVPN uses system login database (/etc/passwd) for verifying 
 clients credentials.
 - Run "passwd <username>" to set the password for the new user.
 - Run "su -c "google-authenticator -t -d -r3 -R30 -f -l "OpenVPN" -s /etc/openvpn/google-authenticator/<username>" to create 
 a Google Authenticator token for a new user. The token ID must be passed to the user so that they could add it on the 
 Google Authenticator app installed on their smartphone.
 - To connect to the OpenVPN server the user must provide their login name, their password and a one-time code generated by 
 Google Authenticator. Since the feature of passing the code to the server isn't supported by OpenVPN clients, the code can 
 be included in the password field following the password. For instance, if the user's password is "ovpn-pass"  and the code 
 is "123456", then the user must put "ovpn-pass123456" in the password field.
 
 
 
 
 
